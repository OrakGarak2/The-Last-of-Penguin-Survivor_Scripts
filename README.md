# 📄 The-Last-of-Penguin-Survivor_Scripts
### 💾 The Last of Penguin: Survivor에서 제가 작성한 코드 일부를 옮겨놓은 Repository입니다. 
### 🔑 원본 프로젝트는 비밀 유지 계약에 의해 공개가 불가능하여 학교기업 측의 허락을 받고 Repository를 새로 생성했습니다.

## 🪞 Mirror Networking
Mirror Networking API를 이용하여 동기화 기능을 제작한 코드 중 온전히 제가 작성한 코드만 일부 삽입되어 있습니다.

### 🏢 BuildingSync & BuildingMeshSync
- BuildingSync: 클라이언트에서 건축물을 생성할 때 서버에 메시지를 보내서 네트워크 객체로 생성하여 모든 클라이언트에서 건축물 생성이 동기화되게 하고, 건축물의 내구도를 동기화합니다.
- BuildingMeshSync: 건축물의 트랜스폼을 자동 동기화하지 않도록 설계했기에 건축물의 방향(2가지)이 동기화되게 합니다.

### 🗺️ ChunkSync
- 새 클라이언트가 입장했을 때, 청크에 변경 사항(예: 블록 생성 및 제거)이 생겼을 때 해당 청크들을 모든 클라이언트에서 동기화합니다.

### 📦 NetworkObjectManager
- 클라이언트에 의해서 소환되어 있는 네트워크 객체를 삭제시켜야 할 때(예: 몬스터 처치) 서버에 메시지를 보내 해당 객체를 네트워크상에서 삭제합니다.
- 특정 클라이언트가 미러 네트워크상에서 권한을 요청할 때 해당 클라이언트에게 해당 오브젝트의 권한을 부여합니다.
- 아이템 객체들은 너무 많이 생성될 수 있어서 네트워크 객체로 생성하지 않고 이 클래스에서 아이템의 데이터와 위치 등을 저장해 놓았다가 새 클라이언트가 입장하면 동기화합니다.

### 🐧 PenguinPrefabSync
- 클라이언트가 서버에 입장하기 전에 고른 펭귄이 다른 클라이언트에서도 똑같은 펭귄으로 보이도록 동기화합니다.

## ❗ Mission
미션 코드는 전부 제가 작성한 것이라 따로 분리하였습니다.

### 🕵️ MissionManager
- 미션 이벤트(미션을 클리어하기 위해 해야 하는 행위)를 모든 클라이언트로부터 수집하고, 현재 진행 중인 미션과 관련이 있을 경우 진행도를 명시하고 모든 클라이언트에서 동기화합니다.
- 현재 진행 중인 미션의 미션 이벤트를 목표치 이상으로 수집하면 다음 미션으로 넘어가고 모든 클라이언트에서 동기화합니다.
